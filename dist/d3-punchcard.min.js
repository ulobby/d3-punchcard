!function(t,i){"object"==typeof exports&&"object"==typeof module?module.exports=i(require("d3")):"function"==typeof define&&define.amd?define(["d3"],i):"object"==typeof exports?exports.punchcard=i(require("d3")):t.punchcard=i(t.d3)}(this,function(t){return function(t){function i(e){if(r[e])return r[e].exports;var n=r[e]={exports:{},id:e,loaded:!1};return t[e].call(n.exports,n,n.exports,i),n.loaded=!0,n.exports}var r={};return i.m=t,i.c=r,i.p="",i(0)}([function(t,i,r){function e(t){return this instanceof e?(Object.assign(this,a,t),void this._init()):new e(t)}const n=r(1),a={target:"#chart",width:600,height:400,margin:{top:20,right:20,bottom:40,left:100},color:"#444",xticks:["12a","1a","2a","3a","4a","5a","6a","7a","8a","9a","10a","11a","12p","1p","2p","3p","4p","5p","6p","7p","8p","9p","10p","11p"],yticks:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]};t.exports=e;var s=e.prototype;s._init=function(){var t=this.width,i=this.height,r=this.margin,e=this.innerWidth=t-r.left-r.right,a=this.innerHeight=i-r.top-r.bottom,s=this.unitWidth=e/24,o=this.unitHeight=a/7;this.unitSize=Math.min(s,o),this.chart=n.select(this.target).append("svg").attr("width",t).attr("height",i).append("g").attr("transform","translate("+r.left+","+r.top+")"),this.x=n.scale.linear().domain([0,23]).range([s/2,e-s/2]),this.y=n.scale.linear().domain([0,6]).range([o/2,a-o/2]),this.xAxis=n.svg.axis().orient("bottom").scale(this.x).ticks(24).tickFormat(function(t,i){return this.xticks[i]}),this.yAxis=n.svg.axis().orient("left").scale(this.y).ticks(7).tickFormat(function(t,i){return this.yticks[i]}),this._renderAxis()},s.render=function(t){t=(t||[]).filter(function(t){return Array.isArray(t)&&3===t.length&&t[0]>=0&&t[0]<=6&&t[1]>=0&&t[1]<=23}),this.data=t,this._renderCard()},s._renderAxis=function(){this.chart.append("g").attr("class","x axis").attr("transform","translate(0, "+this.innerHeight+")").call(this.xAxis),this.chart.append("g").attr("class","y axis").call(this.yAxis)},s._renderCard=function(){var t=this.data,i=n.max(t,function(t){return t[2]});this.r=n.scale.sqrt().domain([0,i]).range([0,this.unitSize/2]);var r=this.chart.selectAll("circle").data(t),e=[r,r.enter().append("circle")];e.forEach(function(t){t.attr("cx",function(){return this.x(d[1])}).attr("cy",function(t){return this.y(t[0])}).attr("r",function(t){return this.r(t[2])}).style("fill",this.color)}),r.exit().remove()},s.clear=function(){this.chart.selectAll("*").remove()}},function(i,r){i.exports=t}])});